<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{admin/fragments/head :: head(#{admin.title})}"></head>
<body class="bg-surface-muted">
<div th:replace="~{admin/fragments/header :: header('WiFi Manager')}"></div>
<main class="container-page">
    <div class="card space-y-6">
        <div class="flex items-start gap-3">
            <img th:src="@{/assets/shared/icons/outline/ticket.svg}" alt="" class="mt-1 h-7 w-7 opacity-80"/>
            <div>
                <h1 class="text-2xl font-semibold" th:text="#{admin.ticket.create.title}">Vytvořit lístek</h1>
                <p class="text-text-muted" th:text="#{admin.ticket.create.subtitle}">Vytvořte nový časově omezený
                    přístup.</p>
            </div>
        </div>

        <div th:if="${ticketCreated}" class="alert alert-success">
            <span th:text="#{admin.ticket.created(${ticketValidityMinutes})}"
            >Lístek byl vytvořen.</span>
        </div>

        <form th:action="@{/admin/tickets}" th:object="${createTicket}" method="post" class="space-y-6">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

            <div>
                <label class="label" for="validityMinutes"
                       th:text="#{admin.ticket.create.validity.label}">Jak dlouho má být lístek platný?</label>
                <div class="relative">
                    <select class="select appearance-none" id="validityMinutes" th:field="*{validityMinutes}">
                        <option value="15" th:text="#{admin.ticket.validity.minutes(15)}">15 minut</option>
                        <option value="30" th:text="#{admin.ticket.validity.minutes(30)}">30 minut</option>
                        <option value="45" selected th:text="#{admin.ticket.validity.minutes(45)}">45 minut</option>
                        <option value="60" th:text="#{admin.ticket.validity.minutes(60)}">60 minut</option>
                        <option value="90" th:text="#{admin.ticket.validity.minutes(90)}">90 minut</option>
                        <option value="120" th:text="#{admin.ticket.validity.minutes(120)}">120 minut</option>
                    </select>
                    <img
                            th:src="@{/assets/shared/icons/outline/chevron-down.svg}"
                            alt=""
                            class="pointer-events-none absolute right-3 top-1/2 h-5 w-5 -translate-y-1/2 opacity-70"
                    />
                </div>
            </div>

            <button class="btn btn-primary w-full" type="submit" th:text="#{admin.ticket.create.submit}">Vytvořit
            </button>
        </form>
    </div>
</main>
</body>
</html>
